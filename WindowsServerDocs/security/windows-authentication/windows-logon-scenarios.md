---
title: Сценарии входа в систему Windows
description: Безопасность Windows Server
ms.prod: windows-server
ms.technology: security-windows-auth
ms.topic: article
ms.assetid: 66b7c568-67b7-4ac9-a479-a5a3b8a66142
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: 9a953b22b39a20557103fa84a5d6d5e42e753444
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80861707"
---
# <a name="windows-logon-scenarios"></a>Сценарии входа в систему Windows

>Область применения: Windows Server (Semi-Annual Channel), Windows Server 2016

В этой справочной статье по ИТ-специалистам представлены общие сценарии входа в Windows и вход в систему.

Операционным системам Windows требуется, чтобы все пользователи могли входить на компьютер с действительной учетной записью для доступа к локальным и сетевым ресурсам. Компьютеры под управлением Windows защищают ресурсы путем реализации процесса входа в систему, в котором пользователи проходят проверку подлинности. После проверки подлинности пользователя технологии контроля доступа и управления доступом реализуют второй этап защиты ресурсов: определение, авторизован ли прошедший проверку подлинности пользователь для доступа к ресурсу.

Содержимое этого раздела применимо к версиям Windows, указанным в списке **применимо к** в начале этого раздела.

Кроме того, приложения и службы могут требовать от пользователей входа для доступа к ресурсам, предлагаемым приложением или службой. Процесс входа аналогичен процессу входа в систему в том, что требуются действительная учетная запись и правильные учетные данные, но сведения о входе хранятся в базе данных диспетчера учетных записей безопасности (SAM) на локальном компьютере и в Active Directory, где это возможно. Учетная запись входа и учетные данные управляются приложением или службой, а также могут храниться локально в службе блокировки учетных данных.

Чтобы понять, как работает аутентификация, см. раздел [Основные понятия проверки подлинности Windows](windows-authentication-concepts.md).

В данном разделе описаны следующие сценарии.

-   [Интерактивный вход](#BKMK_InteractiveLogon)

-   [Вход в сеть](#BKMK_NetworkLogon)

-   [Вход со смарт-картой](#BKMK_SmartCardLogon)

-   [Биометрический вход](#BKMK_BioLogon)

## <a name="interactive-logon"></a><a name="BKMK_InteractiveLogon"></a>Интерактивный вход
Процесс входа начинается либо, когда пользователь вводит учетные данные в диалоговом окне Ввод учетных данных, либо когда пользователь вставляет смарт-карту в устройство чтения смарт-карт или когда пользователь взаимодействует с биометрической устройством. Пользователи могут выполнять интерактивный вход, используя локальную учетную запись пользователя или учетную запись домена для входа на компьютер.

На следующей схеме показаны элементы интерактивного входа в систему и процесс входа в систему.

![Схема, на которой показаны Интерактивные элементы входа и процесс входа в систему](../media/windows-logon-scenarios/AuthN_LSA_Architecture_Client.gif)

**Архитектура проверки подлинности клиента Windows**

### <a name="local-and-domain-logon"></a><a name="BKMK_LocaDomainLogon"></a>Локальный и доменный вход
Учетные данные, которые пользователь предоставляет для входа в домен, содержат все элементы, необходимые для локального входа в систему, такие как имя учетной записи, пароль или сертификат, а также Active Directory сведения о домене. Процесс подтверждает идентификацию пользователя в базе данных безопасности на локальном компьютере пользователя или в домене Active Directory. Этот обязательный процесс входа не может быть отключен для пользователей домена.

Пользователи могут выполнять интерактивный вход на компьютер одним из двух способов:

-   Локально, когда пользователь имеет прямой физический доступ к компьютеру или когда компьютер входит в сеть компьютеров.

    Локальный вход предоставляет пользователю разрешение на доступ к ресурсам Windows на локальном компьютере. Для локального входа необходимо, чтобы у пользователя была учетная запись пользователя в диспетчере учетных записей безопасности (SAM) на локальном компьютере. SAM защищает и управляет сведениями о пользователях и группах в форме учетных записей безопасности, хранящихся в локальном реестре компьютера. Компьютер может иметь доступ к сети, но он не является обязательным. Учетная запись локального пользователя и сведения о членстве в группах используются для управления доступом к локальным ресурсам.

    Вход в сеть предоставляет пользователю разрешение на доступ к ресурсам Windows на локальном компьютере в дополнение к любым ресурсам на сетевых компьютерах в соответствии с маркером доступа учетных данных. Как для локального входа, так и для входа в сеть требуется, чтобы у пользователя была учетная запись пользователя в диспетчере учетных записей безопасности (SAM) на локальном компьютере. Учетная запись локального пользователя и сведения о членстве в группах используются для управления доступом к локальным ресурсам, а маркер доступа для пользователя определяет, какие ресурсы могут быть доступны на сетевых компьютерах.

    Локальный вход и вход в сеть недостаточно, чтобы предоставить пользователю и компьютеру разрешение на доступ к ресурсам домена и их использование.

-   Удаленно, через службы терминалов или службы удаленных рабочих столов (RDS), в этом случае вход в систему выполняется дополнительно в качестве удаленного интерактивного.

После интерактивного входа в систему Windows запускает приложения от имени пользователя, и пользователь может взаимодействовать с этими приложениями.

Локальный вход предоставляет пользователю разрешение на доступ к ресурсам на локальном компьютере или в ресурсах на сетевых компьютерах. Если компьютер присоединен к домену, функция Winlogon пытается войти в этот домен.

Вход в домен предоставляет пользователю разрешение на доступ к локальным ресурсам и ресурсам домена. Для входа в домен требуется, чтобы у пользователя была учетная запись пользователя в Active Directory. Компьютер должен иметь учетную запись в домене Active Directory и физически подключена к сети. Пользователи также должны иметь права пользователя для входа на локальный компьютер или домен. Сведения об учетной записи пользователя домена и сведения о членстве в группах используются для управления доступом к доменным и локальным ресурсам.

### <a name="remote-logon"></a><a name="BKMK_RemoteLogon"></a>Удаленный вход
В Windows доступ к другому компьютеру через удаленный вход зависит от протокол удаленного рабочего стола (RDP). Так как пользователь должен успешно войти на клиентский компьютер до попытки удаленного подключения, интерактивные процессы входа в систему успешно завершены.

RDP управляет учетными данными, вводимыми пользователем с помощью клиента удаленный рабочий стол. Эти учетные данные предназначены для целевого компьютера, и у пользователя должна быть учетная запись на этом целевом компьютере. Кроме того, целевой компьютер должен быть настроен на прием удаленного подключения. Учетные данные целевого компьютера отправляются на попытку выполнить процесс проверки подлинности. Если проверка подлинности прошла успешно, пользователь подключается к локальным и сетевым ресурсам, доступным с помощью предоставленных учетных данных.

## <a name="network-logon"></a><a name="BKMK_NetworkLogon"></a>Вход в сеть
Сетевой вход может использоваться только после проверки подлинности пользователя, службы или компьютера. Во время входа в сеть процесс не использует диалоговые окна ввода учетных данных для получения данных. Вместо этого используется ранее установленные учетные данные или другой метод для получения учетных данных. Этот процесс подтверждает удостоверение пользователя для любой сетевой службы, к которой пользователь пытается получить доступ. Этот процесс обычно невидим для пользователя, если не требуется предоставлять альтернативные учетные данные.

Чтобы обеспечить такой тип проверки подлинности, система безопасности включает следующие механизмы проверки подлинности:

-   Протокол Kerberos версии 5

-   Сертификаты открытого ключа

-   SSL и безопасность транспортного уровня (SSL/TLS)

-   Digest

-   NTLM для совместимости с системами на базе Microsoft Windows NT 4,0

Сведения об элементах и процессах см. в схеме интерактивного входа выше.

## <a name="smart-card-logon"></a><a name="BKMK_SmartCardLogon"></a>Вход со смарт-картой
Смарт-карты можно использовать для входа в учетную запись домена, а не для локальных учетных записей. Проверка подлинности смарт-карты требует использования протокола проверки подлинности Kerberos. В операционных системах на базе Windows, появившихся в Windows 2000 Server, Реализовано Расширение открытого ключа для первоначального запроса проверки подлинности протокола Kerberos. В отличие от шифрования общего секретного ключа, шифрование с открытым ключом является асимметричным, то есть требуются два разных ключа: один для шифрования, другой для расшифровки. Вместе ключи, необходимые для выполнения обеих операций, составляют пару закрытых и открытых ключей.

Для запуска обычного сеанса входа пользователь должен подтвердить свою личность, предоставив сведения только пользователю и базовой инфраструктуре протокола Kerberos. Секретные данные представляют собой криптографический общий ключ, полученный из пароля пользователя. Общий секретный ключ является симметричным. Это означает, что для шифрования и расшифровки используется один и тот же ключ.

На следующей схеме показаны элементы и процессы, необходимые для входа с помощью смарт-карты.

![Схема, показывающая элементы и процессы, необходимые для входа со смарт-картой](../media/windows-logon-scenarios/SmartCardCredArchitecture.gif)

**Архитектура поставщика учетных данных смарт-карты**

При использовании смарт-карты вместо пароля пара закрытых и открытых ключей, хранящихся на смарт-карте пользователя, заменяется на общий секретный ключ, который является производным от пароля пользователя. Закрытый ключ хранится только на смарт-карте. Открытый ключ можно сделать доступным для всех пользователей, которым владелец хочет обмениваться конфиденциальной информацией.

Дополнительные сведения о процессе входа с помощью смарт-карты в Windows см. в статье [как работает вход со смарт-картой в Windows](https://technet.microsoft.com/library/ff404285.aspx).

## <a name="biometric-logon"></a><a name="BKMK_BioLogon"></a>Биометрический вход
Устройство используется для записи и создания цифровых характеристик артефакта, например отпечатка. Это цифровое представление затем сравнивается с образцом того же артефакта, и при успешном сравнении этих двух элементов может возникнуть проверка подлинности. Компьютеры под управлением любой из операционных систем, указанных в списке **применимые к** в начале этого раздела, могут быть настроены на принятие этой формы входа. Однако если биометрическое имя входа настроено только для локального входа, пользователю необходимо предоставить учетные данные домена при доступе к домену Active Directory.

## <a name="additional-resources"></a>Дополнительные ресурсы
Сведения об управлении учетными данными в процессе входа в систему Windows см. [в разделе Управление учетными данными при проверке подлинности Windows](https://technet.microsoft.com/library/dn169014.aspx).

[Технический обзор входа и проверки подлинности Windows](https://technet.microsoft.com/library/dn169029.aspx)


