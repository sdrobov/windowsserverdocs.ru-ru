---
ms.assetid: d11acbc2-40c6-4ab2-9514-2bc3ad81499a
title: Новые возможности дедупликации данных
ms.technology: storage-deduplication
ms.prod: windows-server
ms.topic: article
author: wmgries
manager: klaasl
ms.author: wgries
ms.date: 04/17/2019
ms.openlocfilehash: 1d75d0c25f17e76eba547c30e721f6ffa2b55adc
ms.sourcegitcommit: d5e27c1f2f168a71ae272bebf8f50e1b3ccbcca3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/23/2020
ms.locfileid: "86961286"
---
# <a name="whats-new-in-data-deduplication"></a>Новые возможности дедупликации данных

> Применяется к: Windows Server 2019, Windows Server 2016, Windows Server (Semi-Annual Channel)

[Дедупликация данных](overview.md) в Windows Server оптимизирована, чтобы обеспечить высокую производительность, гибкость и управляемость в масштабе частного облака. Дополнительные сведения о стеке хранилища, определяемом программным обеспечением в Windows Server, см. в статье [новые возможности хранилища в Windows Server](../whats-new-in-storage.md).

Для дедупликации данных в Windows Server 2019 реализованы следующие улучшения:

| Функциональность | Новинка или обновление | Описание |
|---------------|----------------|-------------|
| Поддержка ReFS  | Оператор new            | Храните в 10 раз больше данных на том же томе с дедупликацией и сжатием для файловой системы ReFS. (Это [просто один щелчок](https://www.youtube.com/watch?v=PRibTacyKko&feature=youtu.be) , чтобы включить центр администрирования Windows.) Хранилище блоков переменного размера с необязательным сжатием обеспечивает максимальную экономию скорости, в то время как многопоточная архитектура обработки подлинности не требует минимального воздействия на производительность. Поддерживает тома размером до 64 ТБ и будет выполнять дедупликацию первых 4 ТБ каждого файла.|

Для дедупликации данных предусмотрены следующие улучшения, начиная с Windows Server 2016:

| Функциональность | Новинка или обновление | Описание |
|---------------|----------------|-------------|
| [Поддержка больших томов](whats-new.md#large-volume-support) | Обновлен | До выхода Windows Server 2016 приходилось подгонять размер тома к масштабу обработки, при этом том с размером больше 10 ТБ обычно не подходил для дедупликации данных. В Windows Server 2016 дедупликация данных поддерживает тома размером до 64 ТБ. |
| [Поддержка больших файлов](whats-new.md#large-file-support) | Обновлен | До выпуска Windows Server 2016 файлы с размером около 1 ТБ обычно не подходили для дедупликации данных. В Windows Server 2016 файлы размером до 1 ТБ полностью поддерживаются. |
| [Поддержка Nano Server](whats-new.md#nano-server-support) | Оператор new | Дедупликация данных полностью поддерживается и является доступной в новом развертывании Nano Server для Windows Server 2016. |
| [Поддержка упрощенного резервного копирования](whats-new.md#simple-backup-support) | Оператор new | Виртуализированные приложения резервного копирования (например, [Microsoft Data Protection Manager](/previous-versions/system-center/system-center-2012-R2/hh758173(v=sc.12))) в Windows Server 2012 R2 поддерживались посредством многоэтапной настройки вручную. В Windows Server 2016 представлен новый стандартный тип использования ("Резервная копия"), обеспечивающий непрерывное развертывание дедупликации данных для виртуализированных приложений резервного копирования.|
| [Поддержка последовательного обновления кластерной ОС](whats-new.md#cluster-upgrade-support) | Оператор new | Дедупликация данных полностью поддерживает новую функцию [последовательного обновления кластерной ОС](../..//failover-clustering/cluster-operating-system-rolling-upgrade.md) в Windows Server 2016. |

## <a name="support-for-large-volumes"></a><a name="large-volume-support"></a>Поддержка больших томов

**Какой эффект дает это изменение?**  
Чтобы обеспечить максимальную производительность дедупликации данных в Windows Server 2012 R2, когда задание оптимизации выполняется в соответствии со скоростью изменения данных, нужно использовать тома надлежащего размера. На практике это обычно означает, что дедупликация данных выполняется в томах с размером до 10 ТБ в зависимости от особенностей операций записи рабочей нагрузки.

В Windows Server 2016 производительность дедупликации данных остается очень высокой в томах с размером до 64 ТБ.

**Что работает иначе?**  
В Windows Server 2012 R2 конвейер заданий дедупликации данных использует однопотоковые очереди и очереди ввода-вывода для каждого тома. Чтобы задания оптимизации выполнялись своевременно, обеспечивая высокую производительность томов, большие наборы данных нужно разбивать на тома меньшего размера. Допустимый размер тома зависит от ожидаемого масштаба обработки. В среднем это 6–7 ТБ для томов с большим масштабом обработки и 9–10 ТБ для томов с малым масштабом.

В Windows Server 2016 задание дедупликации данных изменено. Теперь в его рамках параллельно выполняется несколько потоков и используется несколько очередей ввода-вывода для каждого тома. В результате производительность повышается до уровня, который ранее был возможен только при разбивке данных на несколько небольших томов. Это изменение представлено на рисунке ниже.

![Сравнение конвейера заданий дедупликации данных в Windows Server 2012 R2 и Windows Server 2016](media/server-2016-dedup-job-pipeline.png)

Эти улучшения относятся ко всем [заданиям дедупликации данных](understand.md#job-info), а не только к заданию оптимизации.

## <a name="support-for-large-files"></a><a name="large-file-support"></a>Поддержка больших файлов
**Какой эффект дает это изменение?**  
В Windows Server 2012 R2 очень большие файлы не используются для дедупликации данных, так как производительность их дедупликации в конвейере обработки дедупликации является низкой. В Windows Server 2016 производительность дедупликации файлов с размером до 1 ТБ является очень высокой. Это позволяет администраторам рационально применять дедупликацию к большему количеству рабочих нагрузок. Например, дедупликацию можно выполнять для очень больших файлов, обычно связанных с рабочими нагрузками резервного копирования.

**Что работает иначе?**  
В Windows Server 2016 функция дедупликации данных повышает пропускную способность оптимизации и производительность доступа благодаря новым структурам карт потока и другим тонким настройкам. Кроме того, после отработки отказа конвейер обработки дедупликации теперь может возобновить оптимизацию, вместо того чтобы перезапускать ее. Эти изменения привели к значительному повышению производительности дедупликации файлов с размером до 1 ТБ.

## <a name="support-for-nano-server"></a><a name="nano-server-support"></a>Поддержка Nano Server
**Какой эффект дает это изменение?**  
Nano Server — это новая функция развертывания без монитора в Windows Server 2016, которая быстрее запускается, а также требует меньше системных ресурсов, обновлений и перезапусков, чем развертывание Windows Server Core. Nano Server полностью поддерживает дедупликацию данных. Дополнительные сведения о Nano Server см. в статье [Getting Started with Nano Server](../../get-started/getting-started-with-nano-server.md) (Приступая к работе с Nano Server).

## <a name=""></a><a name="simple-backup-support">Упрощенная настройка для виртуализированных приложений резервного копирования</a>
**Какой эффект дает это изменение?**  
Дедупликация данных виртуализированных приложений резервного копирования поддерживается в Windows Server 2012 R2, но параметры дедупликации для нее нужно настраивать вручную. В Windows Server 2016 настройка такой дедупликации значительно упрощена. Теперь включить дедупликацию для тома можно с помощью предварительно заданного параметра "Тип использования" (подобно тому, как это можно сделать для файловых серверов общего назначения и инфраструктуры VDI).

## <a name=""></a><a name="cluster-upgrade-support">Поддержка последовательного обновления кластерной ОС</a>
**Какой эффект дает это изменение?**  
В отказоустойчивых кластерах Windows Server на одних узлах может выполняться дедупликация данных Windows Server 2012 R2, а на других узлах (параллельно) — дедупликация данных Windows Server 2016. Это улучшение обеспечивает полный доступ ко всем дедуплицированным томам во время последовательного обновления кластера. А это, в свою очередь, позволяет выгружать новую версию дедупликации данных в существующий кластер Windows Server 2012 R2 постепенно и без простоев.

**Что работает иначе?**<br />
В отказоустойчивых кластерах под управлением предыдущих версий Windows Server узлы могли использовать только одну и ту же версию Windows Server. Начиная с выпуска Windows Server 2016 функция последовательного обновления позволяет кластеру работать в смешанном режиме. Функция дедупликации данных поддерживает этот смешанный режим, обеспечивая полный доступ к данным во время последовательного обновления.
