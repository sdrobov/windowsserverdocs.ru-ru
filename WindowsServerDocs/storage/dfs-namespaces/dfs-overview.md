---
title: Обзор пространств имен DFS
ms.prod: windows-server
ms.author: jgerend
manager: daveba
ms.technology: storage
ms.topic: article
author: jasongerend
ms.date: 06/07/2019
description: В этом разделе описываются пространства имен DFS — служба роли в Windows Server, которая позволяет объединять общие папки, находящиеся на разных серверах, в одно или несколько логически структурированных пространств имен.
ms.openlocfilehash: 71c7f4e90a6a224586c90890a456fdf6f061ddf2
ms.sourcegitcommit: d99bc78524f1ca287b3e8fc06dba3c915a6e7a24
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/27/2020
ms.locfileid: "87182280"
---
# <a name="dfs-namespaces-overview"></a>Обзор пространств имен DFS

> Применяется к: Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012, Windows Server 2008 R2, Windows Server 2008, Windows Server (Semi-Annual Channel)

Пространства имен DFS — это служба роли в Windows Server, которая предоставляет возможность объединения общих папок, находящихся на разных серверах, в одно или несколько логически структурированных пространств имен. Это делает возможным предоставлять пользователям виртуальное представление общих папок, где один путь ведет к файлам, расположенным на нескольких серверах, как показано на следующем рисунке.

![Элементы технологии пространства имен DFS](media/dfs-overview.png)

Далее приведено описание элементов, из которых состоит пространство имен DFS:

- **Сервер пространства имен**. Сервер пространства имен, содержащий пространство имен. Сервер пространства имен может быть рядовым сервером или контроллером домена.
- **Корень пространства имен**. Корень пространства имен является отправной точкой пространства имен. На предыдущем рисунке имя корня является открытым, а путь к пространству имен — \\ \\ contoso \\ public. Этот тип пространства имен является доменным пространством имен, потому что оно начинается с имени домена (например, Contoso) и его метаданные хранятся в доменных службах Active Directory (AD DS). Несмотря на то что на предыдущем рисунке показан один сервер пространства имен, доменное пространство имен можно размещать на нескольких серверах пространства имен, чтобы повысить доступность пространства имен.
- **Папка**. Папки без конечных объектов-папок образуют структуру и иерархию в пространстве имен, а папки с целевыми объектами-папками предоставляют пользователям фактическое содержимое. Когда пользователи просматривают папку, содержащую конечные объекты-папки в пространстве имен, клиентский компьютер получает направление, которое прозрачно перенаправляет клиентский компьютер к одному из конечных объектов папки.
- **Конечные объекты-папки** Конечный объект-папка — это путь UNC к общей папке или к другому пространству имен, которое связано с папкой в пространстве имен. Конечный объект-папка — это место, в котором хранятся данные и содержимое. На предыдущем рисунке у папки с именем Tools есть два конечных объекта-папки — в Лондоне и в Нью-Йорке — а папка с именем Training Guides имеет один конечный объект-папку в Нью-Йорке. Пользователь, просматривающий \\ \\ \\ общедоступные \\ программные \\ средства Contoso, прозрачно перенаправляется в средства Shared Folder \\ \\ лдн-SVR-01 \\ Tools или \\ \\ Нью-SVR-01 в \\ зависимости от того, в каком сайте в данный момент находится пользователь.

В этом разделе описано, как установить DFS, новые возможности и где найти сведения об оценке и развертывании.

Пространства имен можно администрировать с помощью управления DFS [командлетов пространства имен DFS (DFSN) в Windows PowerShell](/powershell/module/dfsn/?view=win10-ps), команды **DfsUtil** или сценариев под названием WMI.

## <a name="server-requirements-and-limits"></a>Требования к серверу и ограничения

Дополнительные требования к оборудованию или программному обеспечению для выполнения управления DFS или использования пространств имен DFS отсутствуют.

Сервер пространства имен — это контроллер домена или рядовой сервер, на котором размещается пространство имен. Количество пространств имен, которые могут размещаться на сервере, определяется операционной системой на сервере пространства имен.

На серверах под управлением следующих операционных систем может размещаться по несколько доменных пространств имен в дополнение к одному изолированному пространству имен:

- Windows Server 2019
- Windows Server 2016
- Windows Server 2012 R2
- Windows Server 2012
- Выпуски Windows Server 2008 R2 Datacenter и Enterprise
- Windows Server (Semi-Annual Channel)

На серверах под управлением следующих операционных систем может размещаться одно изолированное пространство имен:

- Windows Server 2008 R2 Standard

В следующей таблице приведены дополнительные факторы, которые следует учитывать при выборе серверов для размещения пространства имен.

| Сервер, на котором размещаются изолированные пространства имен | Сервер, на котором размещаются доменные пространства имен |
| ---                                   |        ---                                |
| Должен содержать том NTFS для размещения пространства имен.|Должен содержать том NTFS для размещения пространства имен. |
| Может быть рядовым сервером или контроллером домена.|Должен быть рядовым сервером или контроллером домена в домене, в котором настроено пространство имен. (Это требование относится к каждому серверу пространства имен, на котором размещено конкретное доменное пространство имен.) |
| Может размещаться на отказоустойчивом кластере для повышения доступности пространства имен.|Пространство имен не может быть кластерным ресурсом в отказоустойчивом кластере. Тем не менее пространство имен можно разместить на сервере, который также выполняет функции узла в отказоустойчивом кластере, если вы настроите пространство имен для использования только локальных ресурсов на этом сервере. |

## <a name="installing-dfs-namespaces"></a>Установка пространств имен DFS

Пространства имен DFS и репликация DFS являются частью роли "Файловые службы и службы хранения". Средства управления для DFS ("Управление DFS", модуль пространств имен DFS для Windows PowerShell, а также средства командной строки) устанавливаются отдельно в рамках средств администрирования удаленного сервера.

Установите пространства имен DFS с помощью [центра администрирования Windows](../../manage/windows-admin-center/overview.md), диспетчер сервера или PowerShell, как описано в следующих разделах.

### <a name="to-install-dfs-by-using-server-manager"></a>Чтобы установить DFS с помощью диспетчера серверов

1. Откройте диспетчер серверов, щелкните **Управление**, а затем нажмите кнопку **Добавить роли и компоненты**. Откроется мастер добавления ролей и компонентов.

2. На странице **Выбор сервера** выберите сервер или виртуальный жесткий диск автономной виртуальной машины, на который требуется установить DFS.

3. Выберите службы ролей и компоненты, которые следует установить.

    - Чтобы установить службу пространств имен DFS, на странице **Роли сервера** выберите **Пространства имен DFS**.

    - Чтобы установить только средства управления DFS, на странице **Компоненты** разверните узлы **Средства администрирования удаленного сервера**, **Средства администрирования ролей**, **Средства файловых служб**, а затем выберите **Средства управления DFS**.

         Компонент **Средства управления DFS** устанавливает оснастку "Управление DFS", модуль "Пространства имен DFS" для Windows PowerShell и средства командной строки, но не устанавливает на сервер никаких служб DFS.

### <a name="to-install-dfs-by-using-windows-powershell"></a>Установка DFS с помощью Windows PowerShell

Откройте сеанс Windows PowerShell с правами привилегированного пользователя, после чего введите указанную ниже команду, где <name\> обозначает службу роли или компонент, которые требуется установить (см. следующую таблицу со списком соответствующих имен служб ролей или компонентов).

```PowerShell
Install-WindowsFeature <name>
```

| Служба роли или компонент | Название |
| ----------------------- | ---- |
| Пространства имен DFS          | `FS-DFS-Namespace` |
| Средства управления DFS    | `RSAT-DFS-Mgmt-Con` |

Например, для установки средств распределенной файловой системы, включенных в компонент средств удаленного администрирования сервера, введите:

```PowerShell
Install-WindowsFeature "RSAT-DFS-Mgmt-Con"
```

Для установки таких частей компонента средств удаленного администрирования сервера, как "Пространства имен DFS" и "Средства распределенной файловой системы", введите:

```PowerShell
Install-WindowsFeature "FS-DFS-Namespace", "RSAT-DFS-Mgmt-Con"
```

## <a name="interoperability-with-azure-virtual-machines"></a>Взаимодействие с виртуальными машинами Azure

Использование пространств имен DFS на виртуальной машине в Microsoft Azure было протестировано; однако существуют некоторые ограничения и требования, которые необходимо выполнить.

- Нельзя кластерировать изолированные пространства имен на виртуальных машинах Azure.

- Пространства имен на основе домена можно размещать на виртуальных машинах Azure, включая среды с Azure Active Directory.

Дополнительные сведения о начале работы с виртуальными машинами Azure см. в [документации по виртуальным машинам Azure](/azure/virtual-machines/).

## <a name="additional-references"></a>Дополнительные ссылки

Дополнительные сведения по данной теме см. на следующих ресурсах.

| Тип содержимого        | Ссылки |
| ------------------  | ----------------|
| **Оценка продукта** | [Новые возможности репликации DFS и пространств имен DFS в Windows Server](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/dn281957(v=ws.11)) |
| **Развертывание**    | [Аспекты масштабируемости пространства имен DFS](https://techcommunity.microsoft.com/t5/storage-at-microsoft/bg-p/FileCAB) |
| **Операции**    | [Пространства имен распределенной файловой системы: вопросы и ответы](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/ee404780(v=ws.10)) |
| **Ресурсы сообщества** | [Форум TechNet по файловым службам и хранению данных](https://docs.microsoft.com/answers/topics/windows-server-storage.html) |
| **Протоколы**        | [Протоколы файловых служб в Windows Server](/openspecs/windows_protocols/MS-WINPROTLP/df36f95e-6a6b-48d6-a3ae-35a17674f546) (устарело) |
| **Связанные технологии** | [Отказоустойчивая кластеризация](../../failover-clustering/failover-clustering-overview.md)|
| **Поддержка** | [Поддержка Windows для ИТ-специалистов](https://www.microsoft.com/itpro/windows/support)|
