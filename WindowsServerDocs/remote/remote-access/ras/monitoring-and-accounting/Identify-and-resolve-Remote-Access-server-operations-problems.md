---
title: Выявление и ликвидация сбоев в работе сервера удаленного доступа
description: Эта статья является частью руководств по мониторингу удаленного доступа и учету в Windows Server 2016.
manager: brianlic
ms.prod: windows-server
ms.technology: networking-ras
ms.topic: article
ms.assetid: 7ce84c9f-fd1f-4463-8fc7-d2f33344a2c9
ms.author: lizross
author: eross-msft
ms.openlocfilehash: ae48f9f59bcc297c9bcc2b65a4d094f6d0279359
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80860557"
---
# <a name="identify-and-resolve-remote-access-server-operations-problems"></a>Выявление и ликвидация сбоев в работе сервера удаленного доступа

>Область применения: Windows Server (Semi-Annual Channel), Windows Server 2016

**Примечание.** Windows Server 2012 объединяет DirectAccess и службы маршрутизации и удаленного доступа (RRAS) в единую роль удаленного доступа.  
  
Следующие процедуры используются для определения проблем с операциями сервера удаленного доступа, их основных причин и разрешения, необходимого для устранения проблем.  
  
> [!NOTE]  
> Для выполнения задач, описанных в этом разделе, необходимо войти в систему как член группы "Администраторы домена" или член группы "Администраторы" на каждом компьютере. Если вы не можете выполнить задачу, войдя в учетную запись, которая является членом группы "Администраторы", попробуйте выполнить задачу, войдя в учетную запись, которая является членом группы "Администраторы домена".  
  
Этот раздел содержит сведения о выполнении следующих задач.  
  
- Моделирование проблемы операций  
  
- Выявление проблемных операций и выполнение корректирующих действий  
  
- Восстановление службы поддержки IP-адресов  
  
### <a name="simulate-an-operations-issue"></a><a name="BKMK_Simulate"></a>Моделирование проблемы операций  
  
> [!CAUTION]  
> Так как сервер удаленного доступа, вероятно, настроен правильно и в нем не возникли какие-либо проблемы, можно использовать следующую процедуру для имитации проблем с операциями. Если сервер в настоящее время обслуживает клиенты в рабочей среде, возможно, вы не хотите выполнять эти действия. Вы можете прочесть шаги, чтобы понять, как решить проблемы, которые могут возникнуть на сервере удаленного доступа в будущем.  
  
Служба поддержки IP (IPHlpSvc) размещает технологии туннелирования IPv6 (например, IP-HTTPS, 6to4 или Teredo) и требуется для правильной работы сервера DirectAccess. Чтобы продемонстрировать проблемы имитации операций на сервере удаленного доступа, необходимо отключить сетевую службу (IPHlpSvc).  
  
##### <a name="to-stop-the-ip-helper-service"></a>Чтобы отключить службу поддержки IP-адресов  
  
1.  На **начальном** экране сервера удаленного доступа щелкните **Администрирование**, а затем дважды щелкните **службы**.  
  
2.  В списке **служб**прокрутите вниз и щелкните правой кнопкой мыши **вспомогательный метод IP**и выберите команду " **Закрыть**".  
  
### <a name="identify-the-operations-issue-and-take-corrective-action"></a><a name="BKMK_Identify"></a>Выявление проблемных операций и выполнение корректирующих действий  
Отключение службы поддержки IP-адресов вызовет серьезную ошибку на сервере удаленного доступа. На панели мониторинга отображается состояние операций сервера и сведения о ней.  
  
##### <a name="to-identify-the-details-and-take-corrective-action"></a>Для указания сведений и выполнения корректирующих действий  
  
1.  В **диспетчере серверов** щелкните **Средства** и выберите пункт **Управление удаленным доступом**.  
  
2.  Щелкните **ПАНЕЛЬ МОНИТОРИНГА**, чтобы открыть **Панель удаленного доступа** в **Консоли управления удаленным доступом**.  
  
3.  Убедитесь, что сервер удаленного доступа выбран в левой области, а затем в средней области щелкните **состояние операции**.  
  
4.  Вы увидите список компонентов с зеленым или красным значком, который указывает их рабочее состояние. Щелкните строку **IP-HTTPS** в списке. При выборе строки сведения об этой операции отображаются в области **сведений** следующим образом:  
  
    **План**  
  
    Служба вспомогательного приложения IP (IPHlpSvc) остановлена. DirectAccess может работать не так, как ожидалось. Служба поддержки IP-адресов обеспечивает туннельное подключение с помощью платформы подключения, технологий туннелирования IPv6 и IP-HTTPS.  
  
    **Позволяет**  
  
    1.  Служба поддержки IP-адресов остановлена.  
  
    2.  Служба поддержки IP-адресов не отвечает.  
  
    **Решение**  
  
    1.  Чтобы убедиться, что служба запущена, введите в командной строке Windows PowerShell команду **Get-Service IpHlpSvc** .  
  
    2.  Чтобы включить службу, введите команду **Start-Service IpHlpSvc** в командной строке Windows PowerShell с повышенными привилегиями.  
  
    3.  Чтобы перезапустить службу, введите в командной строке Windows PowerShell с повышенными привилегиями команду **Restart-Service IpHlpSvc** .  
  
### <a name="restore-the-ip-helper-service"></a><a name="BKMK_Restart"></a>Восстановление службы поддержки IP-адресов  
Чтобы восстановить службу поддержки IP на сервере удаленного доступа, можно выполнить описанные выше действия по запуску или перезапуску службы. также можно использовать следующую процедуру, чтобы отменить процедуру, которая использовалась для имитации сбоя службы поддержки IP-адресов.  
  
##### <a name="to-restart-the-ip-helper-service-on-the-remote-access-server"></a>Перезапуск службы поддержки IP на сервере удаленного доступа  
  
1.  На **начальном** экране щелкните **Администрирование**, а затем дважды щелкните **службы**.  
  
2.  В списке **служб**прокрутите вниз и щелкните правой кнопкой мыши **вспомогательный метод IP**и выберите пункт **запустить**.  
  
![](../../../media/Identify-and-resolve-Remote-Access-server-operations-problems/PowerShellLogoSmall.gif)***<em>эквивалентных команд Windows PowerShell Windows PowerShell</em>***  
  
Следующие командлеты Windows PowerShell выполняют ту же функцию, что и предыдущая процедура. Введите каждый командлет на отдельной строке. Они могут отображаться с переносом на несколько строк из-за ограничений форматирования.  
  
```PowerShell
PS> Get-RemoteAccessHealth | Where-Object {$_.Component -eq "IP-HTTPS"} | Format-List -Property *  
```
