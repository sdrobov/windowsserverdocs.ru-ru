---
title: ping
description: Справочная статья по команде ping, которая проверяет сетевое подключение.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 49272671-2eec-4fa5-881f-65c24cfbef52
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 07/11/2018
ms.openlocfilehash: b995edf4943cfbaac8bd96cf098d62687c32396f
ms.sourcegitcommit: 2afed2461574a3f53f84fc9ec28d86df3b335685
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "85924275"
---
# <a name="ping"></a>ping

> Область применения: Windows Server (половина ежегодного канала), Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Проверяет подключение на уровне IP к другому компьютеру TCP/IP, отправляя сообщения эхо-запросов протокола ICMP. Отображаются сообщения о получении соответствующих эхо-ответов, а также время кругового пути. Ping — это основная команда TCP/IP, используемая для устранения неполадок подключения, доступности и разрешения имен. При использовании без параметров эта команда отображает содержимое справки.

Эту команду также можно использовать для проверки имени компьютера и IP-адреса компьютера. Если проверка связи с IP-адресом выполнена успешно, но проверка связи с именем компьютера не выполняется, может возникнуть проблема разрешения имен. В этом случае убедитесь, что указываемое имя компьютера можно разрешить через локальный файл hosts с помощью запросов службы доменных имен (DNS) или методов разрешения имен NetBIOS.

> [!NOTE]
> Эта команда доступна, только если протокол Internet Protocol (TCP/IP) установлен в качестве компонента в свойствах сетевого адаптера в окне Сетевые подключения.

## <a name="syntax"></a>Синтаксис

```
ping [/t] [/a] [/n <count>] [/l <size>] [/f] [/I <TTL>] [/v <TOS>] [/r <count>] [/s <count>] [{/j <hostlist> | /k <hostlist>}] [/w <timeout>] [/R] [/S <Srcaddr>] [/4] [/6] <targetname>
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
|--|--|
| /t | Указывает, что проверка связи продолжит отправлять сообщения эхо-запросов в место назначения, пока не будет прервано. Чтобы прервать и отобразить статистику, нажмите клавиши CTRL + ВВОД. Чтобы прервать выполнение и выйти из этой команды, нажмите клавиши CTRL + C. |
| /a | Указывает, что разрешение обратных имен выполняется на IP-адрес назначения. В случае успешного выполнения команды Ping отображает соответствующее имя узла. |
| /n`<count>` | Указывает число отправленных сообщений с эхо-запросом. Значение по умолчанию — 4. |
| /l`<size>` | Указывает длину (в байтах) поля **данных** в отправленных сообщениях запроса эха. Значение по умолчанию — 32. Максимальный размер — 65 527. |
| /f | Указывает, что сообщения эхо-запросов отправляются с флагом "не **фрагментировать** " в заголовке IP, установленном в значение 1 (доступно только в IPv4). Сообщения эхо-запроса не могут быть фрагментированы маршрутизаторами по пути к назначению. Этот параметр полезен для устранения неполадок с максимальным количеством блоков передачи (PMTU). |
| /I`<TTL>` | Задает значение поля TTL в заголовке IP для отправленных сообщений запроса эха. По умолчанию используется значение TTL по умолчанию для узла. Максимальный *срок жизни* — 255. |
| /v`<TOS>` | Указывает значение поля типа службы (TOS) в IP-заголовке для отправленных сообщений запроса эха (доступно только в IPv4). Значение по умолчанию равно 0. *TOS* задаются в виде десятичного значения от 0 до 255. |
| /r`<count>` | Указывает, что параметр **записи Route** в заголовке IP-адреса используется для записи пути, полученного сообщением запроса эха, и соответствующего сообщения о эхо-ответе (доступно только в IPv4). Каждый прыжок в пути использует запись в параметре **запись маршрута** . Если возможно, укажите *число* прыжков между источником и назначением. *Число* должно быть не меньше 1 и не больше 9. |
| /s`<count>` | Указывает, что параметр **отметка времени Интернета** в заголовке IP используется для записи времени прибытия сообщения эхо-запроса и соответствующего сообщения эхо-ответа для каждого прыжка. *Число* должно быть не меньше 1 и не больше 4. Это необходимо для адресов назначения, находящейся в локальной связи. |
| /j`<hostlist>` | Указывает, что сообщения эхо-запроса используют параметр **свободного исходного маршрута** в заголовке IP с набором промежуточных назначений, указанных в *hostlist* (доступно только в IPv4). При свободной маршрутизации последовательные промежуточные назначения могут быть разделены одним или несколькими маршрутизаторами. Максимальное число адресов или имен в списке узлов равно 9. Список узлов представляет собой набор IP-адресов (в точечно-десятичной нотации), разделенных пробелами. |
| /k`<hostlist>` | Указывает, что сообщения эхо-запроса используют в заголовке IP параметр с **максимальным исходным маршрутом** с набором промежуточных назначений, указанных в *hostlist* (доступно только в IPv4). При использовании явной исходной маршрутизации следующее промежуточное назначение должно быть напрямую достижимо (оно должно быть соседом в интерфейсе маршрутизатора). Максимальное число адресов или имен в списке узлов равно 9. Список узлов представляет собой набор IP-адресов (в точечно-десятичной нотации), разделенных пробелами. |
| /w`<timeout>` | Указывает время (в миллисекундах) ожидания получения сообщения о эхо-ответе, соответствующего заданному сообщению запроса эха. Если ответное сообщение не получено в течение времени ожидания, отображается сообщение об ошибке "запрос был превышен). Время ожидания по умолчанию — 4000 (4 секунды). |
| /R | Указывает, что путь приема-передачи отслеживается (доступно только в IPv6). |
| /S`<Srcaddr>` | Указывает используемый исходный адрес (доступен только в IPv6). |
| /4 | Указывает, что протокол IPv4 используется для проверки связи. Этот параметр не требуется для определения целевого узла с IPv4-адресом. Необходимо только указать целевой узел по имени. |
| /6 | Указывает, что протокол IPv6 используется для проверки связи. Этот параметр не требуется для определения целевого узла с IPv6-адресом. Необходимо только указать целевой узел по имени. |
| `<targetname>` | Указывает имя узла или IP-адрес назначения. |
| /? | Отображение справки в командной строке. |

### <a name="example-of-the-ping-command-output"></a>Пример выходных данных команды ping

```
C:\>ping example.microsoft.com
    pinging example.microsoft.com [192.168.239.132] with 32 bytes of data:
    Reply from 192.168.239.132: bytes=32 time=101ms TTL=124
    Reply from 192.168.239.132: bytes=32 time=100ms TTL=124
    Reply from 192.168.239.132: bytes=32 time=120ms TTL=124
    Reply from 192.168.239.132: bytes=32 time=120ms TTL=124
```

### <a name="examples"></a>Примеры

Чтобы проверить связь с целевым 10.0.99.221 и разрешить 10.0.99.221 в его имя узла, введите:

```
ping /a 10.0.99.221
```

Чтобы проверить связь с 10.0.99.221 назначения с 10 сообщениями эхо-запроса, каждый из которых имеет поле данных 1000 байт, введите:

```
ping /n 10 /l 1000 10.0.99.221
```

Чтобы проверить связь с назначением 10.0.99.221 и записать маршрут для 4 прыжков, введите:

```
ping /r 4 10.0.99.221
```

Чтобы проверить связь с целевым 10.0.99.221 и указать свободный исходный маршрут 10.12.0.1-10.29.3.1-10.1.44.1, введите:

```
ping /j 10.12.0.1 10.29.3.1 10.1.44.1 10.0.99.221
```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
