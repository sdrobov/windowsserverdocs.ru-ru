---
title: prncnfg
description: Справочный раздел по команде прнкнфг, которая настраивает или отображает сведения о конфигурации принтера.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 38a4e8fa-3122-495b-a125-35b926bc6415
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 07/11/2018
ms.openlocfilehash: b60faaa5537ebdf8860c9b0471cf879677b80f1d
ms.sourcegitcommit: 771db070a3a924c8265944e21bf9bd85350dd93c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/27/2020
ms.locfileid: "85472309"
---
# <a name="prncnfg"></a>prncnfg

> Область применения: Windows Server (половина ежегодного канала), Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Настраивает или отображает сведения о конфигурации принтера. Эта команда представляет собой Visual Basic сценарий, расположенный в `%WINdir%\System32\printing_Admin_Scripts\<language>` каталоге. Чтобы использовать эту команду в командной строке, введите **cscript** , а затем полный путь к файлу прнкнфг или измените каталоги на соответствующую папку. Например, `cscript %WINdir%\System32\printing_Admin_Scripts\en-US\prncnfg`.

## <a name="syntax"></a>Синтаксис

```
cscript prncnfg {-g | -t | -x | -?} [-S <Servername>] [-P <Printername>] [-z <newprintername>] [-u <Username>] [-w <password>] [-r <portname>] [-l <location>] [-h <sharename>] [-m <comment>] [-f <separatorfilename>] [-y <datatype>] [-st <starttime>] [-ut <untiltime>] [-i <defaultpriority>] [-o <priority>] [<+|->shared] [<+|->direct] [<+|->hidden] [<+|->published] [<+|->rawonly] [<+|->queued] [<+|->enablebidi] [<+|->keepprintedjobs] [<+|->workoffline] [<+|->enabledevq] [<+|->docompletefirst]
```

### <a name="parameters"></a>Параметры

| Параметр | Описание: |
|--|--|
| -g | Отображает сведения о конфигурации принтера. |
| -T | Настраивает принтер. |
| -X | Переименовывает принтер. |
| -S`<Servername>` | Указывает имя удаленного компьютера, на котором размещен принтер, которым требуется управлять. Если компьютер не указан, используется локальный компьютер. |
| -P`<Printername>` | Указывает имя принтера, которым требуется управлять. Обязательный элемент. |
| – z`<newprintername>` | Указывает новое имя принтера. Требуются параметры **-x** и **-P** . |
| -u `<Username>` -w`<password>` | Указывает учетную запись с разрешениями на подключение к компьютеру, на котором размещен принтер, которым требуется управлять. Все члены локальной группы администраторов целевого компьютера имеют эти разрешения, но разрешения также могут быть предоставлены другим пользователям. Если учетная запись не указана, для работы команды необходимо войти в систему с учетной записью с этими разрешениями. |
| -r`<portname>` | Указывает порт, к которому подключен принтер. Если это параллельный или последовательный порт, используйте идентификатор порта (например, LPT1 или COM1). Если это порт TCP/IP, используйте имя порта, указанное при добавлении порта. |
| -l`<location>` | Указывает расположение принтера, например **копирум**. Если расположение содержит пробелы, заключите его в кавычки, например **"Копировать комнату"**.|
| -h`<sharename>` | Указывает имя общего ресурса принтера. |
| -m`<comment>` | Указывает строку комментария принтера. |
| -f`<separatorfilename>` | Задает файл, содержащий текст, отображаемый на странице-разделителе. |
| -y`<datatype>` | Указывает типы данных, которые может принимать принтер. |
| -ST`<starttime>` | Настраивает принтер для ограниченной доступности. Указывает время суток, когда принтер доступен. При отправке документа на принтер, если он недоступен, документ сохраняется (в очереди), пока принтер не станет доступным. Необходимо указать время в виде 24-часового времени. Например, чтобы указать 11:00 P.M., введите **2300**. |
| -UT`<endtime>` | Настраивает принтер для ограниченной доступности. Указывает время суток, когда принтер перестает быть доступным. При отправке документа на принтер, если он недоступен, документ сохраняется (в очереди), пока принтер не станет доступным. Необходимо указать время в виде 24-часового времени. Например, чтобы указать 11:00 P.M., введите **2300**. |
| -o`<priority>` | Указывает приоритет, используемый диспетчером очереди для направления заданий печати в очередь печати. Очередь печати с более высоким приоритетом получает все свои задания перед любой очередью с более низким приоритетом. |
| -i`<defaultpriority>` | Указывает приоритет по умолчанию, назначаемый каждому заданию печати. |
| `{+|-}`используемый | Указывает, является ли этот принтер общим для сети. |
| `{+|-}`направлений | Указывает, должен ли документ отправляться непосредственно на принтер без помещения в очередь. |
| `{+|-}`выпущен | Указывает, следует ли публиковать этот принтер в Active Directory. При публикации принтера другие пользователи могут искать его в зависимости от его расположения и возможностей (например, цветовой печати и сшивания). |
| `{+|-}`hidden | Зарезервированная функция. |
| `{+|-}`равонли | Указывает, могут ли в этой очереди только задания печати с необработанными данными помещаться в очередь. |
| `{+|-}`} в очереди | Указывает, что принтер не должен начинать печать до тех пор, пока не будет поставлена в очередь Последняя страница документа. Программа печати недоступна до завершения печати документа. Однако использование этого параметра гарантирует доступность всего документа для принтера. |
| `{+|-}`киппринтеджобс | Указывает, должен ли диспетчер очереди хранить документы после печати. Включение этого параметра позволяет пользователю повторно отправить документ на принтер из очереди печати, а не из программы печати. |
| `{+|-}`воркоффлине | Указывает, может ли пользователь отправить задания печати в очередь печати, если компьютер не подключен к сети. |
| `{+|-}`енабледевк | Указывает, следует ли хранить в очереди задания печати, которые не соответствуют настройкам принтера (например, файлы PostScript, помещенные в очередь на принтерах, отличных от PostScript). |
| `{+|-}`докомплетефирст | Указывает, должен ли диспетчер очереди отправлять задания печати с более низким приоритетом, которые завершили работу с очередью, прежде чем отправлять задания печати с более высоким приоритетом, который не завершил работу с очередью. Если этот параметр включен и документы не были завершены, то диспетчер очереди сообщений будет передавать большие документы перед меньшими. Этот параметр следует включать, если требуется максимально повысить эффективность работы принтера за счет приоритета задания. Если этот параметр отключен, диспетчер очереди печати всегда сначала отправляет задания с более высоким приоритетом в соответствующие очереди. |
| `{+|-}`енаблебиди | Указывает, отправляет ли принтер сведения о состоянии в Диспетчер очереди печати. |
| /? | Отображение справки в командной строке. |

### <a name="examples"></a>Примеры

Чтобы отобразить сведения о конфигурации для принтера с именем *ColorPrinter_2* с очередью печати, размещенной на удаленном компьютере с именем *хрсервер*, введите:

```
cscript prncnfg -g -S HRServer -P colorprinter_2
```

Чтобы настроить принтер с именем *ColorPrinter_2* таким образом, чтобы диспетчер очереди на удаленном компьютере с именем *хрсервер* сохранит задания печати после их вывода, введите:

```
cscript prncnfg -t -S HRServer -P colorprinter_2 +keepprintedjobs
```

Чтобы изменить имя принтера на удаленном компьютере с именем *хрсервер* с *ColorPrinter_2* на *колорпринтер 3*, введите:

```
cscript prncnfg -x -S HRServer -P colorprinter_2 -z "colorprinter 3"
```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)

- [Справочник по командам системы печати](print-command-reference.md)
