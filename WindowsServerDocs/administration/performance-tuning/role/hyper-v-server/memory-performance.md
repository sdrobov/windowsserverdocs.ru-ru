---
title: Производительность памяти Hyper-V
description: Требования к памяти при настройке производительности Hyper-V
ms.prod: windows-server
ms.technology: performance-tuning-guide
ms.topic: article
ms.author: asmahi; sandysp; jopoulso
author: phstee
ms.date: 10/16/2017
ms.openlocfilehash: b513dd3346d593ec4c823808f540bce68dd472ce
ms.sourcegitcommit: 771db070a3a924c8265944e21bf9bd85350dd93c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/27/2020
ms.locfileid: "85471369"
---
# <a name="hyper-v-memory-performance"></a>Производительность памяти Hyper-V


Гипервизор делает виртуальную машину гостевой физической памяти для изоляции виртуальных машин друг от друга и предоставляет непрерывное (нулевое) пространство памяти для каждой гостевой операционной системы, как и в случае невиртуализованных систем.

## <a name="correct-memory-sizing-for-child-partitions"></a>Правильное изменение размера памяти для дочерних секций

Размер памяти виртуальной машины следует масштабировать как обычно для серверных приложений на физическом компьютере. Его необходимо изменить, чтобы правильно обрабатывалась ожидаемая нагрузка в обычном и пиковом времени, так как недостаток памяти может значительно увеличить время ответа, а также использование процессора или операций ввода-вывода.

Можно включить динамическая память, чтобы позволить Windows динамически масштабировать память виртуальной машины. В случае динамическая память, если приложения на виртуальной машине испытывают проблемы с большим объемом выделения памяти, можно увеличить размер файла подкачки для виртуальной машины, чтобы обеспечить временное резервное копирование, а динамическая память реагировать на нехватку памяти.

Дополнительные сведения о динамическая память см. в разделе [обзор Динамическая память Hyper-v]( https://go.microsoft.com/fwlink/?linkid=834434) и в статье [Динамическая память по настройке Hyper-v](https://go.microsoft.com/fwlink/?linkid=834435).

При запуске Windows в дочернем разделе можно использовать следующие счетчики производительности в дочернем разделе, чтобы определить, испытывает ли дочерний раздел недостаток памяти и, скорее всего, будет работать лучше с более высоким размером памяти виртуальной машины.

| Счетчик производительности                                                         | Рекомендуемое пороговое значение                                                                                                                                                           |
|-----------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Память — Байты резерва резервного кэша                                        | Сумма резервных байт в резервном кэше, а также свободных и нулевых байт списка страниц должны составлять 200 МБ или больше в системах с 1 ГБ и 300 МБ или больше в системах с 2 ГБ или более видимой ОЗУ. |
| Память — байты свободной памяти & обнуленных страниц                                        | Сумма резервных байт в резервном кэше, а также свободных и нулевых байт списка страниц должны составлять 200 МБ или больше в системах с 1 ГБ и 300 МБ или больше в системах с 2 ГБ или более видимой ОЗУ. |
| Память — ввод страниц/с                                                    | Среднее значение в 1-часовом периоде меньше 10.                                                                                                                                       | 

## <a name="correct-memory-sizing-for-root-partition"></a>Правильное изменение размера памяти для корневого раздела

Корневой раздел должен иметь достаточно памяти для предоставления таких служб, как виртуализация ввода-вывода, моментальный снимок виртуальной машины и управление для поддержки дочерних секций.

Hyper-V в Windows Server 2016 отслеживает работоспособность среды выполнения операционной системы управления корневого раздела, чтобы определить, сколько памяти может быть безопасно выделено дочерним секциям, сохраняя при этом высокий уровень производительности и надежности корневого раздела.

## <a name="additional-references"></a>Дополнительные ссылки

-   [Терминология Hyper-V](terminology.md)

-   [Архитектура Hyper-V](architecture.md)

-   [Конфигурация сервера Hyper-V](configuration.md)

-   [Производительность процессоров Hyper-V](processor-performance.md)

-   [Производительность ввода-вывода хранилища Hyper-V](storage-io-performance.md)

-   [Производительность ввода-вывода сети Hyper-V](network-io-performance.md)

-   [Обнаружение узких мест в виртуализированной среде](detecting-virtualized-environment-bottlenecks.md)

-   [Виртуальные машины Linux](linux-virtual-machine-considerations.md)
